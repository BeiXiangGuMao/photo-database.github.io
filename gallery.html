<!doctype html>
<html>
<head>
  <meta charset="utf-8"/>
  <title>Gallery</title>
  <meta name="color-scheme" content="light dark"/>
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://unpkg.com/alpinejs@3" defer></script>
  <link rel="stylesheet" href="glass.css"/>
</head>
<body class="bg-main text-main">
  <button id="theme-toggle" class="fixed top-4 right-4 p-2 rounded-full glass-card z-50">
    <img id="theme-icon" class="w-5 h-5" src="moon.svg" alt="theme"/>
  </button>

  <div x-data="gallery()" class="p-6">
    <h1 class="text-3xl font-bold mb-4" x-text="title"></h1>
    <div class="grid grid-cols-2 md:grid-cols-4 gap-4">
      <template x-for="img in images">
        <div class="glass-card p-2 rounded-xl">
          <img :src="img.download_url" class="rounded-lg w-full h-32 object-cover"/>
          <p x-text="img.name" class="text-sm truncate mt-1"></p>
          <p x-text="(img.size/1024).toFixed(1)+' KB • '+img.date" class="text-xs opacity-70"></p>
          <input type="checkbox" :value="img.download_url" x-model="selected" class="mt-1 accent-blue-500">
        </div>
      </template>
    </div>
    <button @click="download" class="btn mt-6">打包下载 (<span x-text="selected.length"></span>)</button>
  </div>

<script type="module" src="gallery.js"></script>
<script src="theme.js"></script>
</body>
</html>
